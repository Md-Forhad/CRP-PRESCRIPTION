SELECT DDM.DOC_NAME, DDM.DOC_ID, DDM.DOC_CODE, 
DEPARTMENT_SLV.DEPTS_NAME, DEPARTMENT_DTL.DEPTD_NAME, DEPARTMENT_MST.DEPTM_NAME, 
DESIGNATION_INFO.DESIG_NAME, TO_CHAR(DDM.DOC_EFF_DATE,'dd-MON-yy') DOC_EFF_DATE, DDM.DOC_STATUS, DEPARTMENT_DTL.DEPTD_ID, 
NVL(DDM.DOC_DEPTD_HEAD_FLAG,0) DOC_DEPTD_HEAD_FLAG, NVL(DDM.DOC_MANAGER_FLAG,0) DOC_MANAGER_FLAG,
DEPARTMENT_SLV.DEPTS_ID, DESIGNATION_INFO.DESIG_ID, 
TO_CHAR(DDM.DOC_APP_LOGIN_EXP_DATE,'DD-MON-RR') EXP_DATE, DDM.DOC_APP_FIRST_LOGIN_FLAG,DDM.DOC_VIDEO_LINK,DDM.DOC_VIDEO_LINK_ENABLE_FLAG,
NVL(DDM.DOC_FORCED_LOG_OUT_FLAG,0) FL_FLAG, (SELECT LIC_CENTER_NAME FROM ISP_RUNAUTO) DOC_CENTER_NAME,
DDM.DOC_VILLAGE, DDM.DOC_POFFICE, DISTRICT_DTL.DD_THANA_NAME, 
DISTRICT.DIST_NAME, DDM.DOC_CELL, DDM.DOC_PHONE, DDM.DOC_EMAIL,
DDM.DOC_DD_ID, DISTRICT.DIST_ID, DDM.DOC_PROFILE_PIC
FROM DOCTOR_INFO DDM, DEPARTMENT_SLV, DEPARTMENT_DTL, DEPARTMENT_MST, DESIGNATION_INFO, DISTRICT_DTL, DISTRICT,

    (SELECT DOCD_DOC_ID,DOCD_EFF_DATE,DOCD_DEPTS_ID,DOCD_DESIG_ID 
     FROM DOCTOR_DTL
     WHERE DOCD_DOC_ID = (SELECT DOC_ID 
                          FROM DOCTOR_INFO 
                          WHERE DOC_CODE = :doc_code)) DOCTOR
WHERE DDM.DOC_CODE = :doc_code
 AND DDM.DOC_ONLINE_FLAG = 1
 AND (DDM.DOC_ID = DOCTOR.DOCD_DOC_ID)
 AND DDM.DOC_EFF_DATE = DOCTOR.DOCD_EFF_DATE
 AND DISTRICT_DTL.DD_ID (+) = DDM.DOC_DD_ID
 AND DISTRICT.DIST_ID (+) = DISTRICT_DTL.DD_DIST_ID
 AND (DEPARTMENT_SLV.DEPTS_ID = DOCTOR.DOCD_DEPTS_ID)
 AND (DEPARTMENT_SLV.DEPTS_DEPTD_ID = DEPARTMENT_DTL.DEPTD_ID)
 AND (DEPARTMENT_DTL.DEPTD_DEPTM_ID = DEPARTMENT_MST.DEPTM_ID)
 AND (DESIGNATION_INFO.DESIG_ID(+) = DOCTOR.DOCD_DESIG_ID);
